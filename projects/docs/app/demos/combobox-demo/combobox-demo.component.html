<div
  class="container w-full sm:max-w-2xl md:max-w-4xl 2xl:pl-6 mx-auto p-6 text-slate-800 dark:text-slate-200 *:gap-4 *:border-slate-300 *:dark:border-slate-700">
  <tw-h3 class="mt-20">
    Comboboxes
  </tw-h3>
  <p class="text-balance">
    Use these Tailwind CSS combobox components for Angular to provide a combination of input fields and dropdown
    menus for things like
    autocomplete search bars, country selection, and filtering options.
  </p>
  <app-api-ref-links />
  <tw-h4 class="mt-8 font-medium">
    Simple
  </tw-h4>
  <div class="grid sm:flex border items-start justify-center mx-auto m-6 mb-0 p-9 py-16 rounded-xl h-[500px]">
    <div tw-combobox #combobox (valueChanges)="filter($event,1)" opened (open)="reset(1)" class="sm:w-80">
      <label for="search" class="block text-sm mb-2 font-medium"> Quick search </label>
      <input tw-input id="search" [formControl]="combobox.control" class="pr-10" />
      <button tw-button variant="text" size="sm"
        class="absolute inset-y-0 -right-1 rounded-r-md inline-flex items-center opacity-50">
        <tw-icon *ngIf="combobox.opened && combobox.isValid" size="sm" (click)="combobox.reset()" key="x-mark"
          source="heroicons" />
        <tw-icon size="sm" (click)="combobox.toggle()" key="chevron-up-down" source="heroicons" />
      </button>
      <tw-dropdown class="shadow-lg text-sm w-full max-h-56 overflow-y-auto dark:border-slate-700/60">
        <div *ngFor="let item of items1" tw-combobox-item [value]="item.value!" [combobox]="combobox"
          class="aria-selected:text-white aria-selected:bg-blue-600 aria-selected:font-bold">
          <tw-icon *ngIf="combobox.contains(item.value!)" source="heroicons" key="check"
            class="my-auto absolute right-3" />
          <span>{{ item.value}}</span>
        </div>
      </tw-dropdown>
    </div>
  </div>
  <demo-code-snippet [code]="sample.simple"></demo-code-snippet>

  <tw-h4 class="mt-8 font-medium">
    With check on left
  </tw-h4>
  <div class="grid sm:flex border items-start justify-center mx-auto m-6 mb-0 p-9 py-16 rounded-xl h-[500px]">
    <div tw-combobox #combobox2 (valueChanges)="filter($event, 2)" opened (open)="reset(2)" class="sm:w-80">
      <label for="search" class="block text-sm mb-2 font-medium"> Quick search </label>
      <input tw-input id="search" [formControl]="combobox2.control" class="pr-10" />
      <button tw-button variant="text" size="sm"
        class="absolute inset-y-0 -right-1 rounded-r-md inline-flex items-center opacity-50">
        <tw-icon *ngIf="combobox2.opened && combobox2.isValid" size="sm" (click)="combobox2.reset()" key="x-mark"
          source="heroicons" />
        <tw-icon size="sm" (click)="combobox2.toggle()" key="chevron-up-down" source="heroicons" />
      </button>
      <tw-dropdown class="shadow-lg text-sm w-full max-h-56 overflow-y-auto dark:border-slate-700/60">
        <div *ngFor="let item of items2" tw-combobox-item [value]="item.value!" [combobox]="combobox2"
          class="pl-10 aria-selected:text-white aria-selected:bg-blue-600 aria-selected:font-bold">
          <tw-icon *ngIf="combobox2.contains(item.value!)" source="heroicons" key="check"
            class="my-auto absolute left-3" />
          <span>{{ item.value}}</span>
        </div>
      </tw-dropdown>
    </div>
  </div>
  <demo-code-snippet [code]="sample.withCheckOnLeft"></demo-code-snippet>

  <tw-h4 class="mt-8 font-medium">
    With image
  </tw-h4>
  <div class="grid sm:flex border items-start justify-center mx-auto m-6 mb-0 p-9 py-16 rounded-xl h-[500px]">
    <div tw-combobox #combobox3 (valueChanges)="filter($event, 3)" opened (open)="reset(3)" class="sm:w-80">
      <label for="search" class="block text-sm mb-2 font-medium"> Quick search </label>
      <input tw-input id="search" [formControl]="combobox3.control" class="pr-10" />
      <button tw-button variant="text" size="sm"
        class="absolute inset-y-0 -right-1 rounded-r-md inline-flex items-center opacity-50">
        <tw-icon *ngIf="combobox3.opened && combobox3.isValid" size="sm" (click)="combobox3.reset()" key="x-mark"
          source="heroicons" />
        <tw-icon size="sm" (click)="combobox3.toggle()" key="chevron-up-down" source="heroicons" />
      </button>
      <div tw-dropdown class="shadow-lg text-sm w-full max-h-56 overflow-y-auto dark:border-slate-700/60">
        <ng-container *ngFor="let item of items3">
          <div tw-combobox-item [value]="item.value!" [combobox]="combobox3"
            class="pl-6 aria-selected:text-white aria-selected:bg-blue-700 aria-selected:font-bold">
            <img tw-avatar size="xs" alt="" class="my-auto absolute -left-3" [src]="item.image">
            <tw-icon *ngIf="combobox3.contains(item.value!)" source="heroicons" key="check"
              class="my-auto absolute right-3" />
            <span>{{ item.value}}</span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <demo-code-snippet [code]="sample.withImage"></demo-code-snippet>

  <tw-h4 class="mt-8 font-medium">
    With status indicator
  </tw-h4>
  <div class="grid sm:flex border items-start justify-center mx-auto m-6 mb-0 p-9 py-16 rounded-xl h-[500px]">
    <div tw-combobox #combobox4 (valueChanges)="filter($event,4)" opened (open)="reset(4)" class="sm:w-80">
      <label for="search" class="block text-sm mb-2 font-medium"> Quick search </label>
      <input tw-input id="search" [formControl]="combobox4.control" class="pr-10" />
      <button tw-button variant="text" size="sm"
        class="absolute inset-y-0 -right-1 rounded-r-md inline-flex items-center opacity-50">
        <tw-icon *ngIf="combobox4.opened && combobox4.isValid" size="sm" (click)="combobox4.reset()" key="x-mark"
          source="heroicons" />
        <tw-icon size="sm" (click)="combobox4.toggle()" key="chevron-up-down" source="heroicons" />
      </button>
      <div tw-dropdown class="shadow-lg text-sm w-full max-h-56 overflow-y-auto dark:border-slate-700/60">
        <ng-container *ngFor="let item of items4">
          <div tw-combobox-item [value]="item.value!" [combobox]="combobox4"
            class="pl-8 aria-selected:text-white aria-selected:bg-blue-600 aria-selected:font-bold">
            <tw-icon key="dot" size="xs"
              [ngClass]="{'text-green-500': item.status === 'active', 'text-gray-300': item.status !== 'active', 'dark:text-gray-700': item.status !== 'active'}"
              class="my-auto absolute left-2" class="my-auto absolute left-2" />
            <tw-icon *ngIf="combobox4.contains(item.value!)" source="heroicons" key="check"
              class="my-auto absolute right-3" />
            <span>{{ item.value }}</span>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <demo-code-snippet [code]="sample.withStatusIndicator"></demo-code-snippet>

  <app-api-ref title="API reference for Combobox" selector="tw-combobox, [tw-combobox], [twCombobox]"
    interface="Combobox, ComboboxState, ComboboxActions, ComboboxEvents"
    [usage]="sample.quick_start_guide">
    <!-- Properties -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Properties</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base properties -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({"}} <br>
              <span class="p-3"></span>{{"transform: stringToArray,"}} <br>
              {{"}) class: ClassName[] = []"}}
            </app-code>
          </td>
          <td>
            <p>The initial class list setted before the combobox initialization.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"classList: ClassList = new ClassList()"}}</app-code>
          </td>
          <td>
            <p>A reference to the class list instance of the combobox.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{'nativeElement: HTMLElement'}} </app-code>
          </td>
          <td>
            <p>A reference to the native element of the combobox inside of a view.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({ transform: booleanAttribute })"}}</app-code><br>
            <app-code>disabled: boolean = false</app-code>
          </td>
          <td>
            <p>Whether the combobox is disabled.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({ transform: booleanAttribute })"}}</app-code><br>
            <app-code>opened: boolean = false</app-code>
          </td>
          <td>
            <p>Whether the combobox is opened.</p>
          </td>
        </tr>
        <!-- Component specific properties -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"isValid (getter): boolean"}}</app-code>
          </td>
          <td>
            <p>Whether the combobox is valid. The combobox is valid if it control is valid and touched or dirty.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input() control: FormControl\<string>"}}</app-code>
          </td>
          <td>
            <p>The form control instance of the combobox.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Methods -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Methods</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base methods -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>disable(): void</app-code>
          </td>
          <td>
            <p>
              Disables the combobox (making it non-interactive).
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>enable(): void</app-code>
          </td>
          <td>
            <p>
              Enables the combobox (making it interactive).
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>open(): void</app-code>
          </td>
          <td>
            <p>
              Opens the combobox.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>close(): void</app-code>
          </td>
          <td>
            <p>
              Closes the combobox.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>toggle(): void</app-code>
          </td>
          <td>
            <p>
              Toggles the combobox.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>closeAfter(delay: number): void</app-code>
          </td>
          <td>
            <p>
              Closes the combobox after the specified delay.
            </p>
          </td>
        </tr>
        <!-- Component specific methods -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>reset(): void</app-code>
          </td>
          <td>
            <p>
              Resets the combobox to its initial state.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>select(item: ComboboxItem): void</app-code>
          </td>
          <td>
            <p>
              Selects the specified item in the combobox.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>contains(value: string): boolean</app-code>
          </td>
          <td>
            <p>
              Returns true if the combobox contains the specified value.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>has(item: ComboboxItem): boolean</app-code>
          </td>
          <td>
            <p>
              Returns true if the combobox has the specified item.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Events -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Events</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base events -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Output('open') onOpen: EventEmitter\<void>"}}</app-code>
          </td>
          <td>
            <p>
              Event emitted when the combobox is opened.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Output('close') onClose: EventEmitter\<void>"}}</app-code>
          </td>
          <td>
            <p>
              Event emitted when the combobox is closed.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Output('toggle') onToggle: EventEmitter\<boolean>"}}</app-code>
          </td>
          <td>
            <p>
              An observable that emits the state (open/closed) of the combobox when it is toggled.
            </p>
          </td>
        </tr>
        <!-- Component specific events -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Output() valueChanges: EventEmitter\<string>"}}</app-code>
          </td>
          <td>
            <p>
              Event emitted when the value of the combobox changes.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
  </app-api-ref>
  <app-api-ref withQuickStart="false" title="API reference for Combobox Item"
    selector="tw-combobox-item, [tw-combobox-item], [twComboboxItem]"
    interface="ComboboxItem, ComboboxItemState, ComboboxItemActions, ComboboxItemEvents, ComboboxItemConfig">
    <!-- Properties -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Properties</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base properties -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({"}} <br>
              <span class="p-3"></span>{{"transform: stringToArray,"}} <br>
              {{"}) class: ClassName[] = []"}}
            </app-code>
          </td>
          <td>
            <p>The initial class list setted before the combobox initialization.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"classList: ClassList = new ClassList()"}}</app-code>
          </td>
          <td>
            <p>A reference to the class list instance of the combobox.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{'nativeElement: HTMLElement'}} </app-code>
          </td>
          <td>
            <p>A reference to the native element of the combobox inside of a view.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({ transform: booleanAttribute })"}}</app-code><br>
            <app-code>disabled: boolean = false</app-code>
          </td>
          <td>
            <p>Whether the combobox is disabled.</p>
          </td>
        </tr>
        <!-- Component specific properties -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"selected (getter): boolean"}}</app-code>
          </td>
          <td>
            <p>Whether the item is selected.</p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({ required: true }) value: string"}}</app-code>
          </td>
          <td>
            <p>
              The value of the item. This value is used to compare with the combobox value to determine if the item is
              selected.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Input({ required: true }) combobox: ComboboxActions"}}</app-code>
          </td>
          <td>
            <p>
              The combobox instance that the item belongs to. This reference is used to interact with the combobox
              component.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Methods -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Methods</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base methods -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>disable(): void</app-code>
          </td>
          <td>
            <p>
              Disables the combobox item.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>enable(): void</app-code>
          </td>
          <td>
            <p>
              Enables the combobox item.
            </p>
          </td>
        </tr>
        <!-- Component specific methods -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>select(): void</app-code>
          </td>
          <td>
            <p>
              Selects the item in the combobox.
            </p>
          </td>
        </tr>
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>scrollIntoView(): void</app-code>
          </td>
          <td>
            <p>
              Scrolls the item into view in the combobox dropdown.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- Events -->
    <table class="table-auto table text-start w-full">
      <thead class="border-b *:*:pb-3 border-black/15 dark:border-white/15">
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <th class="sm:w-96">Events</th>
          <th class="p-3">Description</th>
        </tr>
      </thead>
      <tbody class="*:border-b *:*:py-3 *:border-black/15 *:dark:border-white/15">
        <!-- Base events -->
        <tr class="*:text-start last:*:pl-6 last:*:hidden last:*:sm:table-cell">
          <td>
            <app-code>{{"@Output('select') onSelect: EventEmitter\<void>"}}</app-code>
          </td>
          <td>
            <p>
              Event emitted when the item is selected.
            </p>
          </td>
        </tr>
      </tbody>
    </table>
  </app-api-ref>
  <app-customization [html]="sample.html_template_customization" [component]="sample.component_instance_customization"
    [provider]="sample.config_provider_customization" [manager]="sample.config_manager_customization" />
</div>
